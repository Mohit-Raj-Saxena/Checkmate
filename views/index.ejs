<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkmate - Premium Online Chess Experience</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }

        .chessboard {
            display: grid;
            grid-template-columns: repeat(8, minmax(0, 1fr));
            grid-template-rows: repeat(8, minmax(0, 1fr));
            width: 500px;
            height: 500px;
            transform: rotate(0deg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .chessboard::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 14px;
            background: linear-gradient(45deg, #fbbf24, #f59e0b, #d97706, #92400e);
            z-index: -1;
            opacity: 0.8;
        }

        .piece.white {
            color: #f8fafc;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8));
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        }

        .piece.black {
            color: #1e293b;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .flipped {
            transform: rotate(180deg);
        }

        .square {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.2s ease;
        }

        .square.light {
            background: linear-gradient(135deg, #fef3c7 0%, #fbbf24 100%);
        }

        .square.dark {
            background: linear-gradient(135deg, #92400e 0%, #78350f 100%);
        }

        .square.highlighted {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
            box-shadow: inset 0 0 20px rgba(16, 185, 129, 0.3);
        }

        .square.selected {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
            box-shadow: inset 0 0 20px rgba(59, 130, 246, 0.3);
        }

        .piece {
            font-family: 'Chess Merida', serif;
            font-size: 42px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            z-index: 10;
        }

        .piece.draggable {
            cursor: grab;
        }

        .piece:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }

        .dragging {
            opacity: 0.7;
            transform: scale(1.2);
            z-index: 100;
        }

        .flipped .piece {
            transform: rotate(180deg);
        }

        .flipped .piece:hover {
            transform: rotate(180deg) scale(1.1);
        }

        .game-container {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }

        .game-info {
            backdrop-filter: blur(16px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .status-indicator {
            position: relative;
        }

        .status-indicator::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, #10b981, #06d6a0, #118ab2);
            border-radius: 8px;
            z-index: -1;
            opacity: 0.8;
        }

        .pulsing {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .coordinate-label {
            font-size: 12px;
            font-weight: 600;
            color: #94a3b8;
            position: absolute;
        }

        .rank-label {
            left: 4px;
            top: 4px;
        }

        .file-label {
            right: 4px;
            bottom: 4px;
        }

        /* Custom positioning for sidebar spacing */
        .bottom-box {
            margin-top: 150px;
        }
        
        @media (max-width: 1024px) {
            .bottom-box {
                margin-top: 24px;
            }
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="relative z-10 w-full min-h-screen flex items-center justify-center px-4 py-8">
            
            <!-- Main Game Area -->
            <div class="flex flex-col lg:flex-row items-start justify-center gap-8 max-w-7xl w-full">
                
                <!-- Left Sidebar - Opponent Info & Game Controls -->
                <div class="sidebar-container w-full lg:w-80 space-y-6">
                    
                    <!-- Opponent Info -->
                    <div class="game-info p-6 h-auto">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-white">Opponent</h3>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-green-400 rounded-full mr-2 pulsing"></div>
                                <span class="text-green-400 text-sm font-medium">Online</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0">
                                O
                            </div>
                            <div class="flex-1">
                                <p class="text-white font-medium">Opponent</p>
                                <p class="text-gray-400 text-sm">Rating: 1500</p>
                            </div>
                        </div>
                    </div>

                    <!-- Game Controls - Reduced -->
                    <div class="game-info p-6">
                        <h3 class="text-lg font-semibold text-white mb-4">Game Controls</h3>
                        <div class="space-y-3">
                            <button class="w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center">
                                <i class="ri-flag-line mr-2"></i>
                                Resign Game
                            </button>
                            <button class="w-full bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center">
                                <i class="ri-handshake-line mr-2"></i>
                                Offer Draw
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Chess Board -->
                <div class="flex flex-col items-center justify-center">
                    <!-- Board coordinates and labels -->
                    <div class="relative">
                        <div class="chessboard" id="chessboard">
                            <!-- Board squares will be generated by your existing JavaScript -->
                        </div>
                        
                        <!-- Coordinate labels -->
                        <div class="absolute -left-6 top-0 h-full flex flex-col justify-around text-gray-400 font-medium">
                            <span>8</span><span>7</span><span>6</span><span>5</span>
                            <span>4</span><span>3</span><span>2</span><span>1</span>
                        </div>
                        <div class="absolute -bottom-6 left-0 w-full flex justify-around text-gray-400 font-medium">
                            <span>a</span><span>b</span><span>c</span><span>d</span>
                            <span>e</span><span>f</span><span>g</span><span>h</span>
                        </div>
                    </div>


                </div>

                <!-- Right Sidebar - Your Info & Move History -->
                <div class="sidebar-container w-full lg:w-80 space-y-6">
                    
                    <!-- Your Info -->
                    <div class="game-info p-6 h-auto">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-white">You</h3>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-green-400 rounded-full mr-2 pulsing"></div>
                                <span class="text-green-400 text-sm font-medium">Online</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0">
                                Y
                            </div>
                            <div class="flex-1">
                                <p class="text-white font-medium">You</p>
                                <p class="text-gray-400 text-sm">Rating: 1450</p>
                            </div>
                        </div>
                    </div>

                    <!-- Move History - Reduced -->
                    <div class="game-info p-6">
                        <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                            <i class="ri-history-line mr-2 text-blue-400"></i>
                            Move History
                        </h3>
                        <div class="max-h-32 overflow-y-auto space-y-2 pr-2">
                            <div class="flex justify-between text-sm py-2 px-3 bg-black/20 rounded-lg">
                                <span class="text-gray-400 font-medium">1.</span>
                                <span class="text-white">e4</span>
                                <span class="text-gray-300">e5</span>
                            </div>
                            <div class="flex justify-between text-sm py-2 px-3 bg-black/20 rounded-lg">
                                <span class="text-gray-400 font-medium">2.</span>
                                <span class="text-white">Nf3</span>
                                <span class="text-gray-300">Nc6</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts (unchanged) -->
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"
        integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"
        integrity="sha512-xRllwz2gdZciIB+AkEbeq+gVhX8VB8XsfqeFbUh+SzHlN96dEduwtTuVuc2u9EROlmW9+yhRlxjif66ORpsgVA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/js/chessgame.js"></script>
</body>

</html>